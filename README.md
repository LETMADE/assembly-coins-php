# assembly-coins-php

AssemblyCoins API library client for PHP

__This library is generated by [alpaca](https://github.com/pksunkara/alpaca)__

## Installation

Make sure you have [composer](https://getcomposer.org) installed.

Add the following to your composer.json

```js
{
    "require": {
        "assembly-coins-api/assembly-coins-api": "*"
    }
}
```

Update your dependencies

```bash
$ php composer.phar update
```

> This package follows the `PSR-0` convention names for its classes, which means you can easily integrate these classes loading in your own autoloader.

#### Versions

Works with [ 5.4 / 5.5 ]

## Usage

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

// Then we instantiate a client (as shown below)
```

### Build a client

##### Without any authentication

```php
$client = new AssemblyCoins\Client('https://coins.assembly.com');

// If you need to send options
$client = new AssemblyCoins\Client('https://coins.assembly.com', array(), $clientOptions);
```

### Client Options

The following options are available while instantiating a client:

 * __base__: Base url for the api
 * __api_version__: Default version of the api (to be used in url)
 * __user_agent__: Default user-agent for all requests
 * __headers__: Default headers for all requests
 * __request_type__: Default format of the request body
 * __response_type__: Default format of the response (to be used in url suffix)

### Response information

__All the callbacks provided to an api call will recieve the response as shown below__

```php
$response = $client->klass('args')->method('args', $methodOptions);

$response->code;
// >>> 200

$response->headers;
// >>> array('x-server' => 'apache')
```

##### JSON response

When the response sent by server is __json__, it is decoded into an array

```php
$response->body;
// >>> array('user' => 'pksunkara')
```

### Method Options

The following options are available while calling a method of an api:

 * __api_version__: Version of the api (to be used in url)
 * __headers__: Headers for the request
 * __query__: Query parameters for the url
 * __body__: Body of the request
 * __request_type__: Format of the request body
 * __response_type__: Format of the response (to be used in url suffix)

### Request body information

Set __request_type__ in options to modify the body accordingly

##### RAW request

When the value is set to __raw__, don't modify the body at all.

```php
$body = 'username=pksunkara';
// >>> 'username=pksunkara'
```

##### FORM request

When the value is set to __form__, urlencode the body.

```php
$body = array('user' => 'pksunkara');
// >>> 'user=pksunkara'
```

##### JSON request

When the value is set to __json__, JSON encode the body.

```php
$body = array('user' => 'pksunkara');
// >>> '{"user": "pksunkara"}'
```

### Colors api

A colored coin represented on the bitcoin blockchain

```php
$colors = $client->colors();
```

##### Prompt API Server for New Coin Issuing Address (POST /colors/prepare)



The following arguments are required:

 * __issued_amount__: Starting number of coins to be issued, declared in the Blockchain
 * __description__:  Description of the Coin Color, to be written permanently in the Blockchain
 * __coin_name__: Name of the Coin Color, declared in the Blockchain
 * __email__: For use with Assembly only.  Not written in the blockchain

```php
$response = $colors->prepare("integer", "string", "string", "string", $options);
```

##### Check Holders of particular Coin Type (GET /colors/:color_address)



The following arguments are required:

 * __color_address__: The unique color address string identifying the color type

```php
$response = $colors->get("string", $options);
```

##### Make New Coin Directly with Server Side Transaction Signing (POST /colors)



The following arguments are required:

 * __public_address__: The public Bitcoin address creating new coins. This will be the source address for this color type.
 * __private_key__: The private key controlling the source address.
 * __name__: The name of the new color type, to be written on the Blockchain.
 * __initial_coins__: The number of coins to issue. More can be issued later. To be written on the Blockchain. Coins are sent back to this public address, from which they can later be transferred.
 * __description__: The description of this coin color. This is to be written on the Blockchain. It is a permanent declaration of intent.
 * __email__: The email of the coin creator. Stored by Assembly only. Not written on the Blockchain or shared with anyone.
 * __fee_each__: The Bitcoin transaction fee to pay per transaction. Note that multiple transactions are necessary to create a new coin, thus the total fee will be some multiple of this number. We suggest 0.00005 BTC.

```php
$response = $colors->create("string", "string", "string", "integer", "string", "string", "float", $options);
```

### <no value> api

<no value>

```php
$addresses = $client->addresses();
```

##### Check Address Balances (GET /addresses/:public_address)



The following arguments are required:

 * __public_address__: The public Bitcoin address whose colored assets balance you wish to check.

```php
$response = $addresses->balances("string", $options);
```

##### Generate Public/Private Address Pair (GET /addresses)



```php
$response = $addresses->generate($options);
```

##### Generate Public/Private Address Pair from Phrase (GET /addresses/brainwallet/:your_phrase)



The following arguments are required:

 * __your_phrase__: A passphrase that deterministically maps to a Bitcoin public/private keypair.

```php
$response = $addresses->generateBrainwallet("string", $options);
```

### <no value> api

<no value>

```php
$transactions = $client->transactions();
```

##### Transfer Colored Coins with Server Side signing (POST /transactions/transfer)



The following arguments are required:

 * __from_public_address__:  The public address sending colored coins. It must have enough colored coins and bitcoins for the transfer transactions to succeed.
 * __from_private_key__: The private key of the sending public address.
 * __transfer_amount__: The number of colored coins to transfer. This is in units of the minimum increment for the color type.
 * __issuing_address__: The source address of the color being transferred. This is the founder and controlling address of the color type and the only address that can issue further coins. It identifies the desired color to send, in case of color mixing.
 * __fee_each__: The amount in Bitcoin transaction fees to spent per transaction. Suggested 0.00005.
 * __to_public_address__: The destination for the transferred colored coins.

```php
$response = $transactions->create("string", "string", "integer", "string", "float", "string", "string", $options);
```

##### Push Raw Transaction to Bitcoin Network (POST /transactions)



The following arguments are required:

 * __transaction_hex__: The raw transaction, in hex form, to be pushed directly to the Bitcoin Network.

```php
$response = $transactions->createRaw("string", $options);
```

##### Parsed Open Assets Transactions in Block (GET /transactions/parsed/:block_height)



The following arguments are required:

 * __block_height__: The height of the Bitcoin Block to inspect. Parsed Colored Coin Metadata will be presented for that Block. Metadata is not checked for legitimacy, merely interpreted from OPRETURNS.

```php
$response = $transactions->getBlock("integer", $options);
```

##### Get Raw Transaction Information (GET /transactions/raw/:transaction_hash)



The following arguments are required:

 * __transaction_hash__: The Bitcoin transaction hash to lookup. Bitcoin transaction information is returned.

```php
$response = $transactions->getRaw("string", $options);
```

##### Search for Verified Colored Coin Data on Transaction (GET /transactions/:transaction_hash)



The following arguments are required:

 * __transaction_hash__: The Bitcoin transaction hash to lookup. Verified Colored Coin Data is returned.

```php
$response = $transactions->get("string", $options);
```

### <no value> api

<no value>

```php
$messages = $client->messages();
```

##### Write Multipart Statement on the Blockchain (POST /messages)



The following arguments are required:

 * __public_address__: Public Bitcoin address sending message.
 * __fee_each__: Bitcoin transaction fee to spend per transaction. Depending on the length of the message, there may be multiple transactions.
 * __private_key__: The private key of the Bitcoin address writing the message.
 * __message__: The message itself to be written in the Blockchain. This message is divide into 40 byte blocks, written as separate OPRETURN transaction on the Blockchain. Numbers preceding each block allows for proper concatenation later.

```php
$response = $messages->create("string", "float", "string", "string", $options);
```

##### Read stitched-together multi-part OP_RETURN statements issued by an address (GET /messages/:public_address)



The following arguments are required:

 * __public_address__: The public Bitcoin address whose multi-part message are to be read. The stitched, concatenated version is presented.

```php
$response = $messages->get("string", $options);
```

## Contributors
Here is a list of [Contributors](https://github.com/jamespeerless/assembly-coins-api-php/contributors)

### TODO

## License
MIT

## Bug Reports
Report [here](https://github.com/jamespeerless/assembly-coins-api-php/issues).

## Contact
James Peerless (jamespeerless@gmail.com)
